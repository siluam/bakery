#+setupfile: ./settings/README.org
#+include: ./settings/README.org
#+property: header-args:nix :tangle yes

#+begin_src nix
let
    name = "bakery";
    pkgs = import <nixpkgs> {};
in (pkgs.buildFHSUserEnv {
    inherit name;
    targetPkgs = pkgs: with pkgs; [ python310 gcc ];
    runScript = ''
        pip install --upgrade pip
        pip install . \
                    coconut \
                    cytoolz \
                    xonsh || :
        exec xonsh
    '';
}).env
#+end_src